<!DOCTYPE html>
<html>
<head>
<style>
    h1 {text-align: center;}
    h2 {text-align: center;}
    p {text-align: center;}

    .button {
        border: none;
        color: black;
        padding: 22px 64px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        transition-duration: 0.4s;
        cursor: pointer;
    }

    .button1 {
        background-color: #10be1f;
        color: black;
        border: 2px solid #04AA6D;
        border-radius: 19px;
    }
      
    .button1:hover {
        background-color: #067b37;
        transform: rotate(-10deg)scale(0.95);
        color: black;
    }

    .button2 {
        border: 2px solid #373737;
        color: black;
        padding: 32px 64px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        transition-duration: 0.4s;
        cursor: pointer;
    }

    .button3 {
        background-color: #000000;
        border-color: #303030;
        color: rgb(255, 255, 255);
        border: 2px solid #373737;
        border-radius: 19px;
    }
      
    .button3:hover {
        background-color: #000000;
        border-color: #a9a9a9;
        color: rgb(255, 255, 255);
    }

html {
    height: auto;
    background-image: linear-gradient(red, yellow);
    background-repeat: no-repeat;
    min-height: 100vh;
    margin: 0;
}
body {
    height: auto;
    background-attachment: fixed;
    background-size: cover;
}
.container {
    height: 200px;
    position: relative;
}

.center {
    margin: 0;
    position: absolute;
    top: 20%;
    left: 50%;
    -ms-transform: translate(-50%, -50%);
    transform: translate(-50%, -50%);
}

.ucenter {
    margin: 0;
    position: absolute;
    top: 200%;
    left: 50%;
    -ms-transform: translate(-50%, -50%);
    transform: translate(-50%, -50%);
}

.bottom-left {
    position: absolute;
    top: 180%;
    left: 20px;
}
.bottom-right {
    position: absolute;
    top: 180%;
    right: 20px;
}

/* Visitor Counter */
#visitor-counter {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: #fff;
    padding: 10px;
    border-radius: 10px;
    font-size: 18px;
    font-family: Arial, sans-serif;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}
</style>
</head>

<body>
<h1>Welcome to CHMS hangout</h1>
<h2>This is a website for CHMS kids to play games freely</h2>
<p>Made and brought to you by logan</p>

<div id="grad1"></div>

<div id="visitor-counter">Visitors: 0</div> <!-- Visitor counter element -->


<div class="container">
    <div class="center">
        <a href="projects.html">
            <button class="button button1">my projects<br>(games here)</button>
        </a>
    </div>
    <div class="ucenter">
        <a href="aboutme.html">
            <button class="button2 button3">About Me!</button>
        </a>
    </div>
    <div class="bottom-left">
        <a href="suggestions.html">
            <button class="button button2">Suggestions</button>
        </a>
    </div>
</div>
<p>HEY SCHOOL ADMINS, YOU CANT BLOCK THIS SITE, COPE, ILL JUST KEEP BUYING DOMAINS</p>
<!-- Firebase SDK -->
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.1/firebase-app.js";
    import { getDatabase, ref, set, onValue, increment } from "https://www.gstatic.com/firebasejs/9.1.1/firebase-database.js";

    // Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyBzxQgwD_gBuylhdqlRck_PEVzueWccvTM",
        authDomain: "messengerformewebsite.firebaseapp.com",
        databaseURL: "https://messengerformewebsite-default-rtdb.firebaseio.com/",
        projectId: "messengerformewebsite",
        storageBucket: "messengerformewebsite.appspot.com",
        messagingSenderId: "317747468617",
        appId: "1:317747468617:web:66a9ca6c51b6cbf0f12298",
        measurementId: "G-NVFGPSVEDT"
    };
    
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);

    // Reference to the visitors count in the database
    const visitorsRef = ref(database, 'visitorCount');
    //set(visitorsRef, 1);
    // Increment the visitor count whenever someone visits the page
    function incrementVisitorCount() {
        set(visitorsRef, increment(1));
    }

    // Update the visitor counter in real-time
    onValue(visitorsRef, (snapshot) => {
        const count = snapshot.val() || 0;
        document.getElementById('visitor-counter').textContent = `Visitors: ${count}`;
    });

function printDatabase() {
    const dbRef = ref(database);

    get(dbRef).then((snapshot) => {
        const data = snapshot.val();
        if (data) {
            console.log('%cDatabase:', 'font-weight: bold; color: blue');
            printCollapsibleObject(data, 'Database');
        } else {
            console.log('Database is empty');
        }
    }).catch((error) => {
        console.error('Error reading database:', error);
    });
}

// Function to create collapsible structure in console
function printCollapsibleObject(obj, name, indent = 0) {
    const indentStr = ' '.repeat(indent * 2);
    if (typeof obj === 'object') {
        console.groupCollapsed(`${indentStr}${name}`);
        for (const key in obj) {
            printCollapsibleObject(obj[key], key, indent + 1);
        }
        console.groupEnd();
    } else {
        console.log(`${indentStr}${name}: ${obj}`);
    }
}

// Keydown listener for Alt + D
window.addEventListener('keydown', (event) => {
    if (event.altKey && event.key === 'd') {
        printDatabase();
    }
});

    // Call the function to increment the visitor count when the page loads
    window.onload = incrementVisitorCount;
</script>

</body>
</html>
